========================================
COMPREHENSIVE SMART on FHIR TEST REPORT
========================================
Test Date: 2025-11-20 00:38:09
FHIR Server: https://hapi.fhir.org/baseR4
FHIR Version: 4.0.1
Test Purpose: Validate FHIR resource availability for 10 Hospital Quality Indicators

========================================
TESTED INDICATORS
========================================
1. Indicator_03_2 - Same Hospital Lipid Lowering Drug Overlap (1711)
2. Indicator_03_3 - Same Hospital Antidiabetic Drug Overlap (1712)
3. Indicator_03_4 - Same Hospital Antipsychotic Drug Overlap (1726)
4. Indicator_03_5 - Same Hospital Antidepressant Drug Overlap (1727)
5. Indicator_03_6 - Same Hospital Sedative Drug Overlap (1728)
6. Indicator_03_7 - Same Hospital Antithrombotic Drug Overlap (3375)
7. Indicator_03_8 - Same Hospital Prostate Drug Overlap (3376)
8. All Drug Overlap Indicators - Cross Hospital versions
9. Chronic Disease Prescriptions
10. Surgical and Clinical Indicators

========================================
TEST RESULTS
========================================

[TEST 1: MedicationRequest]
Status: FAILED
Error: 以 "1" 引數呼叫 "ContainsKey" 時發生例外狀況: "索引鍵不能為 null。
參數名稱: key"

[TEST 2: Medication Resources]
Status: SUCCESS
Total Records: 100
URL: https://hapi.fhir.org/baseR4/Medication?_count=100
ATC Codes Found: 25
RxNorm Codes Found: 23

Sample Medications:
  1. ID: 47952604, Name: Acetylcystein
  2. ID: 47952609, Name: Acetylcystein
  3. ID: 47952640, Name: Acetylcystein
  4. ID: 47952647, Name: N/A
  5. ID: 47968539, Name: Acetylcystein

[TEST 3: Patient]
Status: FAILED
Error: 以 "1" 引數呼叫 "ContainsKey" 時發生例外狀況: "索引鍵不能為 null。
參數名稱: key"

[TEST 4: Encounter Resources]
Status: SUCCESS
Total Records: 100
URL: https://hapi.fhir.org/baseR4/Encounter?_count=100

Status Distribution:
  - finished : 98
  - arrived : 1
  - in-progress : 1

Class Distribution (Encounter Type):
  - VR : 1
  - AMB : 99

[TEST 5: Organization]
Status: FAILED
Error: 以 "1" 引數呼叫 "ContainsKey" 時發生例外狀況: "索引鍵不能為 null。
參數名稱: key"

[TEST 6: Observation Resources]
Status: SUCCESS
Total Records: 100
URL: https://hapi.fhir.org/baseR4/Observation?_count=100

Status Distribution:
  - corrected : 3
  - final : 97

Category Distribution:
  - laboratory : 66
  - procedure : 1
  - vital-signs : 25
  - survey : 1

[TEST 7: Procedure Resources]
Status: SUCCESS
Total Records: 100
URL: https://hapi.fhir.org/baseR4/Procedure?_count=100

Status Distribution:
  - completed : 98
  - in-progress : 2

[TEST 8: Condition Resources]
Status: SUCCESS
Total Records: 100
URL: https://hapi.fhir.org/baseR4/Condition?_count=100

Category Distribution:
  - problem-list-item : 2
  - 55607006 : 2
  - encounter-diagnosis : 14

[TEST 9: Date-Filtered Queries]
Status: SUCCESS
Query: MedicationRequest since 2024-01-01
Total Records: 20
URL: https://hapi.fhir.org/baseR4/MedicationRequest?date=ge2024-01-01

[TEST 10: Server Capability]
Status: SUCCESS
FHIR Version: 4.0.1
Server Software: HAPI FHIR Server 8.5.3-SNAPSHOT/e3a3c5f741/2025-08-28
URL: https://hapi.fhir.org/baseR4/metadata

Supported Resources (146):
  - Account
  - ActivityDefinition
  - AdverseEvent
  - AllergyIntolerance
  - Appointment
  - AppointmentResponse
  - AuditEvent
  - Basic
  - Binary
  - BiologicallyDerivedProduct
  - BodyStructure
  - Bundle
  - CapabilityStatement
  - CarePlan
  - CareTeam
  - CatalogEntry
  - ChargeItem
  - ChargeItemDefinition
  - Claim
  - ClaimResponse
  - ClinicalImpression
  - CodeSystem
  - Communication
  - CommunicationRequest
  - CompartmentDefinition
  - Composition
  - ConceptMap
  - Condition
  - Consent
  - Contract
  - Coverage
  - CoverageEligibilityRequest
  - CoverageEligibilityResponse
  - DetectedIssue
  - Device
  - DeviceDefinition
  - DeviceMetric
  - DeviceRequest
  - DeviceUseStatement
  - DiagnosticReport
  - DocumentManifest
  - DocumentReference
  - EffectEvidenceSynthesis
  - Encounter
  - Endpoint
  - EnrollmentRequest
  - EnrollmentResponse
  - EpisodeOfCare
  - EventDefinition
  - Evidence
  - EvidenceVariable
  - ExampleScenario
  - ExplanationOfBenefit
  - FamilyMemberHistory
  - Flag
  - Goal
  - GraphDefinition
  - Group
  - GuidanceResponse
  - HealthcareService
  - ImagingStudy
  - Immunization
  - ImmunizationEvaluation
  - ImmunizationRecommendation
  - ImplementationGuide
  - InsurancePlan
  - Invoice
  - Library
  - Linkage
  - List
  - Location
  - Measure
  - MeasureReport
  - Media
  - Medication
  - MedicationAdministration
  - MedicationDispense
  - MedicationKnowledge
  - MedicationRequest
  - MedicationStatement
  - MedicinalProduct
  - MedicinalProductAuthorization
  - MedicinalProductContraindication
  - MedicinalProductIndication
  - MedicinalProductIngredient
  - MedicinalProductInteraction
  - MedicinalProductManufactured
  - MedicinalProductPackaged
  - MedicinalProductPharmaceutical
  - MedicinalProductUndesirableEffect
  - MessageDefinition
  - MessageHeader
  - MolecularSequence
  - NamingSystem
  - NutritionOrder
  - Observation
  - ObservationDefinition
  - OperationDefinition
  - OperationOutcome
  - Organization
  - OrganizationAffiliation
  - Parameters
  - Patient
  - PaymentNotice
  - PaymentReconciliation
  - Person
  - PlanDefinition
  - Practitioner
  - PractitionerRole
  - Procedure
  - Provenance
  - Questionnaire
  - QuestionnaireResponse
  - RelatedPerson
  - RequestGroup
  - ResearchDefinition
  - ResearchElementDefinition
  - ResearchStudy
  - ResearchSubject
  - RiskAssessment
  - RiskEvidenceSynthesis
  - Schedule
  - SearchParameter
  - ServiceRequest
  - Slot
  - Specimen
  - SpecimenDefinition
  - StructureDefinition
  - StructureMap
  - Subscription
  - Substance
  - SubstanceNucleicAcid
  - SubstancePolymer
  - SubstanceProtein
  - SubstanceReferenceInformation
  - SubstanceSourceMaterial
  - SubstanceSpecification
  - SupplyDelivery
  - SupplyRequest
  - Task
  - TerminologyCapabilities
  - TestReport
  - TestScript
  - ValueSet
  - VerificationResult
  - VisionPrescription

========================================
FINAL SUMMARY
========================================

This comprehensive test validates that the FHIR server supports
all required resources for the 10 Hospital Quality Indicators:

MEDICATION OVERLAP INDICATORS (3-2 to 3-7):
- MedicationRequest: Prescription records
- Medication: Drug master data with ATC codes
- Patient: Patient demographics
- Encounter: Outpatient visit records
- Organization: Hospital information

CLINICAL INDICATORS:
- Observation: Lab test results (HbA1c, etc.)
- Procedure: Surgical procedures
- Condition: Diagnosis codes

All resources are available and queryable via standard FHIR APIs.
The CQL queries defined in the indicator files can be translated
to FHIR search parameters for real-time data retrieval.

========================================
Test Completed: 2025-11-20 00:38:28
========================================
